codetasty.revision.2.0
{"ts":1620651660,"restoring":false,"user_id":43024,"patch":[{"diffs":[[1,"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nconst socket = new WebSocket('ws://localhost:300');\r\n\r\n\r\n\r\n\r\n\r\nsocket.onopen = con => {\r\n    socket.send('Hello World!')\r\n}\r\n\r\nlet a = 0;\r\n\r\n\r\nclass Square extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <canvas ref=\"canvas\" width={160} height={144} />\r\n                <p>Please</p>\r\n                {\r\n                    socket.onmessage = async msg => {\r\n                        \r\n                           // console.time('test')\r\n                           // console.log('New frame received')\r\n                            var screen = msg.data.split(',');\r\n\r\n                            var canvas = document.querySelector('canvas');\r\n                            var ctx = canvas.getContext('2d');\r\n                            var data = ctx.createImageData(160, 144)\r\n\r\n                            for (let i = 0; i < screen.length; i++) {\r\n                                data.data[i] = screen[i]\r\n                            }\r\n\r\n\r\n\r\n                            ctx.putImageData(data, 0, 0)\r\n                            //console.timeEnd('test')\r\n                    \r\n                    }\r\n\r\n                }\r\n\r\n                {\r\n                    window.addEventListener('keydown', (event) =>{\r\n                        console.log(event.key)\r\n                        socket.send(`K${event.key}`)\r\n                    })\r\n                }\r\n            </div>)\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nReactDOM.render(\r\n    <Square />,\r\n    document.getElementById('root')\r\n);"]],"start1":0,"start2":0,"length1":0,"length2":1588}],"length":1588}
{"ts":1620651681,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"World!')"],[1,";"],[0,"\r\n}\r\n\r\nl"]],"start1":175,"start2":175,"length1":16,"length2":17}],"length":1589}
{"ts":1620651726,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0," <div>\r\n"],[1,"            <p>\r\n"],[0,"        "]],"start1":294,"start2":294,"length1":16,"length2":33}],"length":1606}
{"ts":1620651729,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"     <p>"],[1,"Test</p>"],[0,"\r\n      "]],"start1":309,"start2":309,"length1":16,"length2":24}],"length":1614}
{"ts":1620651902,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"ost:"],[-1,"300"],[1,"filtered imap"],[0,"');\r"]],"start1":104,"start2":104,"length1":11,"length2":21}],"length":1624}
{"ts":1620652205,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"s://"],[-1,"localhost:filtered imap"],[1,"76.177.211.140:300"],[0,"');\r"]],"start1":94,"start2":94,"length1":31,"length2":26}],"length":1619}
{"ts":1620652208,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"140:"],[-1,"300"],[1,"143"],[0,"');\r"]],"start1":109,"start2":109,"length1":11,"length2":11}],"length":1619}
{"ts":1620652267,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"s://"],[-1,"76.177.211.140"],[1,"192.168.1.153"],[0,":143"]],"start1":94,"start2":94,"length1":22,"length2":21}],"length":1618}
{"ts":1620655845,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"s://"],[-1,"192.168.1.153"],[1,"76.177.211.140"],[0,":143"]],"start1":94,"start2":94,"length1":21,"length2":22}],"length":1619}
{"ts":1620655853,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"t a = 0;"],[1," "],[0,"\r\n\r\n\r\ncl"]],"start1":198,"start2":198,"length1":16,"length2":17}],"length":1620}
{"ts":1620655998,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"= con => {\r\n"],[1,"    console.log('a')\r\n"],[0,"    socket.s"]],"start1":145,"start2":145,"length1":24,"length2":46}],"length":1642}
{"ts":1620656014,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,";\r\n}\r\n\r\n"],[1,"//"],[0,"let a = "]],"start1":210,"start2":210,"length1":16,"length2":18}],"length":1644}
{"ts":1620656036,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"143');\r\n\r\n\r\n"],[1,"console.log('test')"],[0,"\r\n\r\n\r\nsocket"]],"start1":113,"start2":113,"length1":24,"length2":43}],"length":1663}
{"ts":1620656076,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"cket('ws"],[1,"s"],[0,"://76.17"]],"start1":87,"start2":87,"length1":16,"length2":17}],"length":1664}
{"ts":1620656088,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"Please</p>\r\n"],[1,"                <p>aaaaa</p>\r\n"],[0,"            "]],"start1":462,"start2":462,"length1":24,"length2":54}],"length":1694}
{"ts":1620656302,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"\r\n\r\n"],[-1,"console.log('test')"],[0,"\r\n\r\n"]],"start1":122,"start2":122,"length1":27,"length2":8}],"length":1675}
{"ts":1620656305,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0," <p>"],[1,"{"],[0,"Test"],[1,"}"],[0,"</p>"]],"start1":344,"start2":344,"length1":12,"length2":14}],"length":1677}
{"ts":1620656310,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"<p>{"],[-1,"Test"],[1," const a "],[0,"}</p"]],"start1":345,"start2":345,"length1":12,"length2":17}],"length":1682}
{"ts":1620656311,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"const a "],[1,"= ("],[0,"}</p>\r\n "]],"start1":350,"start2":350,"length1":16,"length2":19}],"length":1685}
{"ts":1620656315,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"st a = ("],[1,") => {\r\n                \r\n            "],[0,"}</p>\r\n "]],"start1":353,"start2":353,"length1":16,"length2":54}],"length":1723}
{"ts":1620656323,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"              \r\n"],[1,"            }\r\n                \r\n"],[0,"            }</p"]],"start1":371,"start2":371,"length1":32,"length2":65}],"length":1756}
{"ts":1620656328,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"                "],[1,"return 'a;'"],[0,"\r\n            }\r"]],"start1":369,"start2":369,"length1":32,"length2":43}],"length":1767}
{"ts":1620656330,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"                "],[1,"a()"],[0,"\r\n            }<"]],"start1":413,"start2":413,"length1":32,"length2":35}],"length":1770}
{"ts":1620656332,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"     a()"],[1,";"],[0,"\r\n      "]],"start1":424,"start2":424,"length1":16,"length2":17}],"length":1771}
{"ts":1620736071,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"log('a')"],[1,";"],[0,"\r\n    so"]],"start1":170,"start2":170,"length1":16,"length2":17}],"length":1772}
{"ts":1620736185,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"t-dom';\r"],[1,"\n\r\ntry {\r"],[0,"\nconst s"]],"start1":54,"start2":54,"length1":16,"length2":25}],"length":1781}
{"ts":1620736190,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,";\r\n}\r\n\r\n"],[1,"} catch\r\n\r\n"],[0,"//let a "]],"start1":221,"start2":221,"length1":16,"length2":27}],"length":1792}
{"ts":1620736213,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"\n} catch"],[1," (error)"],[0,"\r\n\r\n//le"]],"start1":228,"start2":228,"length1":16,"length2":24}],"length":1800}
{"ts":1620736214,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0," (error)"],[1," {\r\n    throw error\r\n}"],[0,"\r\n\r\n//le"]],"start1":236,"start2":236,"length1":16,"length2":38}],"length":1822}
{"ts":1620736238,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"    "],[-1,"throw erro"],[0,"r\r\n}"]],"start1":248,"start2":248,"length1":18,"length2":8}],"length":1812}
{"ts":1620736243,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0," {\r\n    "],[-1,"r"],[1,"console.error(error)"],[0,"\r\n}\r\n\r\n/"]],"start1":244,"start2":244,"length1":17,"length2":36}],"length":1831}
{"ts":1620736354,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"140:"],[-1,"143"],[1,"25565"],[0,"');\r"]],"start1":119,"start2":119,"length1":11,"length2":13}],"length":1833}