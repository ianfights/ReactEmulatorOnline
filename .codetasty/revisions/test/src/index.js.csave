codetasty.revision.2.0
{"ts":1620400909,"restoring":false,"user_id":43024,"patch":[{"diffs":[[1,"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as fs from 'fs';\nimport './index.css';\nconst isEven = require('is-even');\nconst Gameboy = require('serverboy');\n\nvar gameboy = new Gameboy();\nconst rom = fs.readFileSync('../../../roms/pokeCrystal.gbc');\ngameboy.loadRom(rom);\ngameboy.advanceFrame();\nclass Square extends React.Component {\n  render() {\n    return ( \n      \n    \n    \n    );\n  }\n}\n\n\nReactDOM.render(\n  <Square />,\n  document.getElementById('root')\n);\n\n"]],"start1":0,"start2":0,"length1":0,"length2":487}],"length":487}
{"ts":1620400922,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"s';\n"],[-1,"const isEven = require('is-even');\nconst Gameboy = require('serverboy');\n\nvar gameboy = new Gameboy();\nconst rom = fs.readFileSync('../../../roms/pokeCrystal.gbc');\ngameboy.loadRom(rom);\ngameboy.advanceFrame();"],[0,"\ncla"]],"start1":105,"start2":105,"length1":218,"length2":8}],"length":277}
{"ts":1620400923,"restoring":false,"patch":[{"diffs":[[0,"m';\n"],[-1,"import * as fs from 'fs';\n"],[0,"impo"]],"start1":57,"start2":57,"length1":34,"length2":8}],"length":251}
{"ts":1620400928,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"rn ( \n      "],[1,"<div>"],[0,"\n    \n    \n "]],"start1":144,"start2":144,"length1":24,"length2":29}],"length":256}
{"ts":1620400944,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"  <div>\n"],[1,"      \n      \n      \n      </div>\n"],[0,"    \n   "]],"start1":154,"start2":154,"length1":16,"length2":50}],"length":290}
{"ts":1620400947,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"  <div>\n"],[-1,"      \n      "],[0,"\n      \n"]],"start1":154,"start2":154,"length1":29,"length2":16}],"length":277}
{"ts":1620400951,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"iv>\n"],[-1,"    \n    \n"],[0,"    "]],"start1":179,"start2":179,"length1":18,"length2":8}],"length":267}
{"ts":1620400957,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"  <div>\n"],[1,"\t\t\t<p>"],[0,"\n      \n"]],"start1":154,"start2":154,"length1":16,"length2":22}],"length":273}
{"ts":1620400959,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,">\n\t\t\t<p>"],[1," {"],[0,"\n      \n"]],"start1":160,"start2":160,"length1":16,"length2":18}],"length":275}
{"ts":1620400968,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"\t\t\t<p> {"],[1,"return 'asdf'"],[0,"\n      \n"]],"start1":162,"start2":162,"length1":16,"length2":29}],"length":288}
{"ts":1620400969,"restoring":false,"patch":[{"diffs":[[0,"n 'asdf'"],[1,"} </p>"],[0,"\n      \n"]],"start1":175,"start2":175,"length1":16,"length2":22}],"length":294}
{"ts":1620400974,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"\t\t\t<p> {"],[1," "],[0,"return '"]],"start1":162,"start2":162,"length1":16,"length2":17}],"length":295}
{"ts":1620400983,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"\t\t\t<p> {"],[-1," return "],[0,"'asdf'} "]],"start1":162,"start2":162,"length1":24,"length2":16}],"length":287}
{"ts":1620400989,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"\t<p>"],[-1," {'asdf'} "],[0,"</p>"]],"start1":164,"start2":164,"length1":18,"length2":8}],"length":277}
{"ts":1620400992,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,">\n\t\t\t<p>"],[1,"asdf"],[0,"</p>\n   "]],"start1":160,"start2":160,"length1":16,"length2":20}],"length":281}
{"ts":1620401003,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"om';"],[-1,"\nimport './index.css';"],[0,"\n\ncl"]],"start1":56,"start2":56,"length1":30,"length2":8}],"length":259}
{"ts":1620649935,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"'react';"],[1,"\r"],[0,"\nimport "]],"start1":18,"start2":18,"length1":16,"length2":17},{"diffs":[[0,"ct-dom';"],[-1,"\n"],[1,"\r\nconst socket = new WebSocket('ws://localhost:8080');\r\n\r\n\r\n\r\n\r\n\r\nsocket.onopen = con => {\r\n    socket.send('Hello World!')\r\n}\r\n\r\nlet a = 0;\r\n\r\n\r"],[0,"\nclass S"]],"start1":53,"start2":53,"length1":17,"length2":161},{"diffs":[[0,"ponent {"],[1,"\r\n\r"],[0,"\n"],[1,"  "],[0,"  render"]],"start1":237,"start2":237,"length1":17,"length2":22},{"diffs":[[0,"() {"],[-1,"\n"],[1,"\r\n   "],[0,"    "],[1," "],[0,"return ("],[-1," \n      <div>\n\t\t\t<p>asdf"],[1,"\r\n            <div>\r\n                <canvas ref=\"canvas\" width={160} height={144} />\r\n                <p>Please"],[0,"</p>"],[1,"\r"],[0,"\n      "],[-1,"\n      </div>\n    );\n  }\n}\n\n"],[1,"          {\r\n                    socket.onmessage = async msg => {\r\n                        \r\n                           // console.time('test')\r\n                           // console.log('New frame received')\r\n                            var screen = msg.data.split(',');\r\n\r\n                            var canvas = document.querySelector('canvas');\r\n                            var ctx = canvas.getContext('2d');\r\n                            var data = ctx.createImageData(160, 144)\r\n\r\n                            for (let i = 0; i < screen.length; i++) {\r\n                                data.data[i] = screen[i]\r\n                            }\r\n\r\n\r\n\r\n                            ctx.putImageData(data, 0, 0)\r\n                            //console.timeEnd('test')\r\n                    \r\n                    }\r\n\r\n                }\r\n\r\n                {\r\n                    window.addEventListener('keydown', (event) =>{\r\n                        console.log(event.key)\r\n                        socket.send(`K${event.key}`)\r\n                    })\r\n                }\r\n            </div>)\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r"],[0,"\nRea"]],"start1":259,"start2":259,"length1":84,"length2":1259},{"diffs":[[0,".render("],[-1,"\n"],[1,"\r\n "],[0,"  "],[1," "],[0,"<Square "]],"start1":1523,"start2":1523,"length1":19,"length2":22},{"diffs":[[0,"uare />,"],[1,"\r"],[0,"\n"],[1,"  "],[0,"  docume"]],"start1":1540,"start2":1540,"length1":17,"length2":20},{"diffs":[[0,"ot')"],[1,"\r"],[0,"\n);"],[-1,"\n\n"]],"start1":1581,"start2":1581,"length1":9,"length2":8}],"length":1589}
{"ts":1620649943,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"'react';"],[-1,"\r"],[0,"\nimport "]],"start1":18,"start2":18,"length1":17,"length2":16},{"diffs":[[0,"ct-dom';"],[-1,"\r"],[0,"\nconst s"]],"start1":52,"start2":52,"length1":17,"length2":16},{"diffs":[[0,"0');"],[-1,"\r\n\r\n\r\n\r\n\r\n\r"],[1,"\n\n\n\n\n"],[0,"\nsoc"]],"start1":109,"start2":109,"length1":19,"length2":13},{"diffs":[[0,"con => {"],[-1,"\r"],[0,"\n"],[-1,"  "],[0,"  socket"]],"start1":135,"start2":135,"length1":20,"length2":17},{"diffs":[[0,"World!')"],[-1,"\r"],[0,"\n}"],[-1,"\r\n\r"],[1,"\n"],[0,"\nlet a ="]],"start1":165,"start2":165,"length1":22,"length2":19},{"diffs":[[0,"t a = 0;"],[-1,"\r\n\r\n\r"],[1,"\n\n"],[0,"\nclass S"]],"start1":179,"start2":179,"length1":21,"length2":18},{"diffs":[[0,"ponent {"],[-1,"\r\n\r"],[1,"\n"],[0,"\n    ren"]],"start1":220,"start2":220,"length1":19,"length2":17},{"diffs":[[0,"() {"],[-1,"\r\n "],[1,"\n"],[0,"      "],[-1," "],[0,"return ("],[-1,"\r\n            <div>\r\n   "],[1," < div >\n"],[0,"        "],[-1,"     "],[0,"<"],[1," "],[0,"canv"]],"start1":240,"start2":240,"length1":64,"length2":42},{"diffs":[[0," ref"],[-1,"="],[1," = "],[0,"\"canvas\""],[-1," width={160} height={144} />\r"],[1,"\n        width = {\n          160\n        }\n        height = {\n          144"],[0,"\n   "]],"start1":284,"start2":284,"length1":46,"length2":94},{"diffs":[[0,"    "],[1,"}\n"],[0,"        "],[-1,"<p>Please</p>\r\n                {\r\n                    socket.onmessage = async msg => {\r\n                        \r\n               "],[1,"/> < p > Please < /p> {\n          socket.onmessage = async msg => {\n\n"],[0,"    "]],"start1":379,"start2":379,"length1":146,"length2":87},{"diffs":[[0,"time('test')"],[-1,"\r\n          "],[1,"\n"],[0,"            "]],"start1":485,"start2":485,"length1":36,"length2":25},{"diffs":[[0,"            "],[-1,"     "],[0,"// console.l"]],"start1":498,"start2":498,"length1":29,"length2":24},{"diffs":[[0,"ceived')"],[-1,"\r\n          "],[1,"\n"],[0,"        "]],"start1":538,"start2":538,"length1":28,"length2":17},{"diffs":[[0,"            "],[-1,"      "],[0,"var screen ="]],"start1":547,"start2":547,"length1":30,"length2":24},{"diffs":[[0,"it(',');"],[-1,"\r\n\r\n        "],[1,"\n\n"],[0,"        "]],"start1":584,"start2":584,"length1":28,"length2":18},{"diffs":[[0,"            "],[-1,"        "],[0,"var canvas ="]],"start1":594,"start2":594,"length1":32,"length2":24},{"diffs":[[0,"anvas');"],[-1,"\r\n       "],[1,"\n"],[0,"        "]],"start1":644,"start2":644,"length1":25,"length2":17},{"diffs":[[0,"            "],[-1,"         "],[0,"var ctx = ca"]],"start1":653,"start2":653,"length1":33,"length2":24},{"diffs":[[0,"t('2d');"],[-1,"\r\n      "],[1,"\n"],[0,"        "]],"start1":691,"start2":691,"length1":24,"length2":17},{"diffs":[[0,"        "],[-1,"          "],[0,"var data"]],"start1":704,"start2":704,"length1":26,"length2":16},{"diffs":[[0,"60, 144)"],[-1,"\r\n\r\n     "],[1,"\n\n"],[0,"        "]],"start1":744,"start2":744,"length1":25,"length2":18},{"diffs":[[0,"        "],[-1,"           "],[0,"for (let"]],"start1":758,"start2":758,"length1":27,"length2":16},{"diffs":[[0,"; i++) {"],[-1,"\r\n                  "],[1,"\n"],[0,"        "]],"start1":799,"start2":799,"length1":36,"length2":17},{"diffs":[[0,"n[i]"],[-1,"\r\n                            }\r\n\r\n\r\n\r\n                "],[1,"\n            }\n\n\n\n"],[0,"    "]],"start1":842,"start2":842,"length1":63,"length2":26},{"diffs":[[0,"a, 0, 0)"],[-1,"\r\n            "],[1,"\n"],[0,"        "]],"start1":896,"start2":896,"length1":30,"length2":17},{"diffs":[[0,"        "],[-1,"  "],[0,"//consol"]],"start1":911,"start2":911,"length1":18,"length2":16},{"diffs":[[0,"st')"],[-1,"\r\n                    \r\n                    }\r\n\r\n                }\r\n\r\n                {\r\n          "],[1,"\n\n          }\n\n        }\n\n        {\n"],[0,"    "]],"start1":940,"start2":940,"length1":107,"length2":44},{"diffs":[[0,") =>"],[-1,"{\r\n            "],[1," {\n"],[0,"    "]],"start1":1031,"start2":1031,"length1":23,"length2":11},{"diffs":[[0,"ent.key)"],[-1,"\r\n "],[1,"\n"],[0,"        "]],"start1":1064,"start2":1064,"length1":19,"length2":17},{"diffs":[[0,"        "],[-1,"           "],[0,"socket.s"]],"start1":1077,"start2":1077,"length1":27,"length2":16},{"diffs":[[0,"t.key}`)"],[-1,"\r\n    "],[1,"\n"],[0,"        "]],"start1":1105,"start2":1105,"length1":22,"length2":17},{"diffs":[[0,"    "],[1,"})\n  "],[0,"      }"],[-1,")\r\n                }\r\n           "],[0," <"],[1," "],[0,"/div>)"],[-1,"\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n"],[1,"\n\n\n\n      }\n\n    }\n\n\n    "],[0,"Reac"]],"start1":1120,"start2":1120,"length1":80,"length2":54},{"diffs":[[0,"der("],[-1,"\r\n   "],[0," <"],[1," "],[0,"Square /"],[-1,">,\r\n"],[1," > ,\n  "],[0,"    "]],"start1":1182,"start2":1182,"length1":27,"length2":26},{"diffs":[[0,"ot')"],[-1,"\r"],[0,"\n"],[1,"    "],[0,");"]],"start1":1235,"start2":1235,"length1":8,"length2":11}],"length":1246}
{"ts":1620649952,"restoring":false,"user_id":43024,"patch":[{"diffs":[[0,"'react';"],[1,"\r"],[0,"\nimport "]],"start1":18,"start2":18,"length1":16,"length2":17},{"diffs":[[0,"ct-dom';"],[1,"\r"],[0,"\nconst s"]],"start1":53,"start2":53,"length1":16,"length2":17},{"diffs":[[0,":8080');"],[-1,"\n\n\n\n\n"],[1,"\r\n\r\n\r\n\r\n\r\n\r"],[0,"\nsocket."]],"start1":107,"start2":107,"length1":21,"length2":27},{"diffs":[[0,"con => {"],[1,"\r"],[0,"\n"],[1,"  "],[0,"  socket"]],"start1":143,"start2":143,"length1":17,"length2":20},{"diffs":[[0,"d!')"],[1,"\r"],[0,"\n}"],[-1,"\n"],[1,"\r\n\r"],[0,"\nlet"]],"start1":180,"start2":180,"length1":11,"length2":14},{"diffs":[[0,"t a = 0;"],[-1,"\n\n"],[1,"\r\n\r\n\r"],[0,"\nclass S"]],"start1":193,"start2":193,"length1":18,"length2":21},{"diffs":[[0,"ponent {"],[-1,"\n"],[1,"\r\n\r"],[0,"\n    ren"]],"start1":237,"start2":237,"length1":17,"length2":19},{"diffs":[[0,"() {"],[-1,"\n"],[1,"\r\n "],[0,"      "],[1," "],[0,"return ("],[1,"\r\n           "],[0," <"],[-1," "],[0,"div"],[-1," "],[0,">"],[1,"\r"],[0,"\n   "]],"start1":259,"start2":259,"length1":31,"length2":46},{"diffs":[[0,"        "],[-1,"<"],[0," "],[1,"       <"],[0,"canvas r"]],"start1":302,"start2":302,"length1":18,"length2":25},{"diffs":[[0," ref"],[-1," = "],[1,"="],[0,"\"canvas\""],[-1,"\n        width = {\n          160"],[1," width={160} height={144} />\r"],[0,"\n   "]],"start1":325,"start2":325,"length1":51,"length2":46},{"diffs":[[0,"    "],[-1,"}\n"],[0,"        "],[-1,"height = {"],[1,"<p>Please</p>\r"],[0,"\n   "]],"start1":372,"start2":372,"length1":28,"length2":30},{"diffs":[[0,"    "],[-1,"  144\n"],[0,"        "],[-1,"}"],[1,"{\r"],[0,"\n   "]],"start1":403,"start2":403,"length1":23,"length2":18},{"diffs":[[0,"    "],[-1,"/> < p > Please < /p> {\n"],[1,"  "],[0,"    "]],"start1":422,"start2":422,"length1":32,"length2":10},{"diffs":[[0,"msg => {"],[-1,"\n\n"],[1,"\r\n                        \r\n               "],[0,"        "]],"start1":463,"start2":463,"length1":18,"length2":59},{"diffs":[[0,"('test')"],[-1,"\n"],[1,"\r\n          "],[0,"        "]],"start1":541,"start2":541,"length1":17,"length2":28},{"diffs":[[0,"                "],[1,"     "],[0,"// console.log('"]],"start1":557,"start2":557,"length1":32,"length2":37},{"diffs":[[0,"ceived')"],[-1,"\n"],[1,"\r\n          "],[0,"        "]],"start1":606,"start2":606,"length1":17,"length2":28},{"diffs":[[0,"            "],[1,"      "],[0,"var screen ="]],"start1":626,"start2":626,"length1":24,"length2":30},{"diffs":[[0,"it(',');"],[-1,"\n\n"],[1,"\r\n\r\n        "],[0,"        "]],"start1":669,"start2":669,"length1":18,"length2":28},{"diffs":[[0,"            "],[1,"        "],[0,"var canvas ="]],"start1":689,"start2":689,"length1":24,"length2":32},{"diffs":[[0,"anvas');"],[-1,"\n"],[1,"\r\n       "],[0,"        "]],"start1":747,"start2":747,"length1":17,"length2":25},{"diffs":[[0,"            "],[1,"         "],[0,"var ctx = ca"]],"start1":764,"start2":764,"length1":24,"length2":33},{"diffs":[[0,"t('2d');"],[-1,"\n"],[1,"\r\n      "],[0,"        "]],"start1":811,"start2":811,"length1":17,"length2":24},{"diffs":[[0,"            "],[1,"          "],[0,"var data = c"]],"start1":827,"start2":827,"length1":24,"length2":34},{"diffs":[[0,"60, 144)"],[-1,"\n\n"],[1,"\r\n\r\n     "],[0,"        "]],"start1":881,"start2":881,"length1":18,"length2":25},{"diffs":[[0,"        "],[1,"           "],[0,"for (let"]],"start1":902,"start2":902,"length1":16,"length2":27},{"diffs":[[0,"; i++) {"],[-1,"\n"],[1,"\r\n                  "],[0,"        "]],"start1":954,"start2":954,"length1":17,"length2":36},{"diffs":[[0,"n[i]"],[-1,"\n            }\n\n\n\n"],[1,"\r\n                            }\r\n\r\n\r\n\r\n                "],[0,"    "]],"start1":1016,"start2":1016,"length1":26,"length2":63},{"diffs":[[0,"a, 0, 0)"],[-1,"\n"],[1,"\r\n            "],[0,"        "]],"start1":1107,"start2":1107,"length1":17,"length2":30},{"diffs":[[0,"        "],[1,"  "],[0,"//consol"]],"start1":1135,"start2":1135,"length1":16,"length2":18},{"diffs":[[0,"st')"],[-1,"\n\n          }\n\n        }\n\n        {\n"],[1,"\r\n                    \r\n                    }\r\n\r\n                }\r\n\r\n                {\r\n          "],[0,"    "]],"start1":1166,"start2":1166,"length1":44,"length2":107},{"diffs":[[0,") =>"],[-1," {\n"],[1,"{\r\n            "],[0,"    "]],"start1":1320,"start2":1320,"length1":11,"length2":23},{"diffs":[[0,"ent.key)"],[-1,"\n"],[1,"\r\n "],[0,"        "]],"start1":1365,"start2":1365,"length1":17,"length2":19},{"diffs":[[0,"            "],[1,"           "],[0,"socket.send("]],"start1":1376,"start2":1376,"length1":24,"length2":35},{"diffs":[[0,"t.key}`)"],[-1,"\n"],[1,"\r\n    "],[0,"        "]],"start1":1419,"start2":1419,"length1":17,"length2":22},{"diffs":[[0,"    "],[-1,"})\n        } < /div>)\n\n\n\n      }\n\n    }\n\n\n    "],[1,"      })\r\n                }\r\n            </div>)\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n"],[0,"Reac"]],"start1":1439,"start2":1439,"length1":54,"length2":80},{"diffs":[[0,"der("],[1,"\r\n   "],[0," <"],[-1," "],[0,"Square /"],[-1," > ,\n  "],[1,">,\r\n"],[0,"    "]],"start1":1527,"start2":1527,"length1":26,"length2":27},{"diffs":[[0,"('root')"],[1,"\r"],[0,"\n"],[-1,"    "],[0,");"]],"start1":1577,"start2":1577,"length1":15,"length2":12}],"length":1589}